(function(h,k,e){var n="mdbtn";var a=[],j=false,b=false;var i={elements:"mdbtn",option:{color:"#222222",pressColor:"#888888",showPressColor:false,processStep:80,},};i.setOption=function(p){for(var o in p){if(typeof(this.option[o])!=e){this.option[o]=p[o]}}};i.init=function(p,o){if(p&&typeof(p)=="string"){this.elements=p}if(o){this.setOption(o)}else{if(typeof(p)=="object"){this.setOption(p)}}this.addElements()};i.addElements=function(q){if(q&&typeof(q)=="string"){this.elements=q}var p=k.getElementsByClassName(this.elements);for(var o=0;o<p.length;o++){p[o].style.position="relative";p[o].setAttribute("style",p[o].getAttribute("style")+";overflow:hidden !important;");p[o].addEventListener("mousedown",function(r){b=true;f(r,g(r))},false);p[o].addEventListener("mouseup",function(r){b=false},false);p[o].addEventListener("mouseleave",function(r){b=false},false)}};var f=function(r,t){var o=t.dataset.color||i.option.color,u=r.layerX||r.offsetX,s=r.layerY||r.offsetY;var p=k.createElement("canvas");t.appendChild(p);p.style.width="100%";p.style.height="100%";p.style.opacity=0.25;p.style.position="absolute";p.style.borderRadius=m(t,"border-radius");p.style.top=0;p.style.left=0;p.width=p.offsetWidth;p.height=p.offsetHeight;var q=p.getContext("2d");var v=new c(o,p,q,u,s);a.push(v);if(!j){l()}};var l=function(){if(a.length>=1){j=true;for(var o=a.length-1;o>=0;o--){a[o].draw();if(a[o].isFinish){a[o].canvas.parentNode.removeChild(a[o].canvas);a.splice(o,1)}}if(!b){for(var o=0;o<a.length;o++){a[o].autoClear=true}}d(l)}else{j=false}};var d=function(){return(h.requestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(o){h.setTimeout(o,1000/60)})}();var m=function(p,q){if(p.currentStyle){return p.currentStyle[q]}else{if(h.getComputedStyle){var o=q.replace(/([A-Z])/g,"-$1");o=q.toLowerCase();return k.defaultView.getComputedStyle(p,null)[q]}}return null};var g=function(q){var o=null;var p=q.target||q.srcElement;while(p.parentElement!==null){if(p.className.indexOf(i.elements)!==-1){o=p;break}p=p.parentElement}return o};var c=function(o,p,q,s,r){this.init(o,p,q,s,r)};c.prototype={init:function(o,p,q,s,r){this.color=o;this.alpha=1;this.canvas=p;this.context=q;this.centerX=s;this.centerY=r;this.radius=0;this.autoClear=false;this.shadowRadius=function(u){var t=u.centerX;if(u.centerY>t){t=u.centerY}if(u.canvas.width-u.centerX>t){t=u.canvas.width-u.centerX}if(u.canvas.height-u.centerY>t){t=u.canvas.height-u.centerY}return t}(this);this.setStep();this.isFinish=false},draw:function(){if(this.autoClear){this.setStep(10)}if(this.radius>=this.shadowRadius*Math.sqrt(2)){if(this.autoClear){this.hide();if(this.alpha<0){this.clear();this.isFinish=true}}}else{this.spread()}},spread:function(){if(i.option.showPressColor){this.context.save();this.context.fillStyle=i.option.pressColor;this.context.fillRect(0,0,this.canvas.width,this.canvas.height);this.context.restore()}this.context.save();this.context.beginPath();this.context.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,false);this.context.fillStyle=this.color;this.context.fill();this.context.restore();this.radius+=this.radiusStep},hide:function(){this.clear();this.context.save();this.context.beginPath();this.context.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,false);this.context.fillStyle=this.color.colorToRgba(this.alpha);this.context.fill();this.context.restore();this.alpha-=0.1},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},setStep:function(p){var o=p||i.option.processStep;this.radiusStep=(this.shadowRadius+(this.canvas.width>this.canvas.height?this.canvas.width:this.canvas.height))/2/o>2?(this.shadowRadius+(this.canvas.width>this.canvas.height?this.canvas.width:this.canvas.height))/2/o:2}};String.prototype.colorToRgba=function(){var r=arguments[0]||1;var q=this.toLowerCase();var o=[];for(var p=1;p<7;p+=2){o.push(parseInt("0x"+q.slice(p,p+2)))}return"rgba("+o.join(",")+","+r+")"};h[n]=i})(window,document);